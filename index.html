<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Siria's site</title>
  <link href="https://fonts.googleapis.com/css2?family=ADLaM+Display&family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    .prezzo { font-family:'Lora', serif; font-size: 2rem; color: #FF0000; }
    body { font-family: 'ADLaM Display', sans-serif; background-image: url('https://i.ibb.co/Lz9C3n0K/IMG-6018.jpg'); background-size: cover; background-position: center; background-attachment: fixed; margin: 0; padding: 0; color: #333; }
    header { background-color: #f8f8f8cc; padding: 20px; text-align: center; font-size: 24px; font-weight: bold; color: #e91e63; }
    .filter-bar { text-align: center; margin: 20px; }
    .filter-bar select { padding: 10px; border-radius: 6px; font-size: 16px; }
    .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; padding: 40px; }
    .product { border: 1px solid #eee; padding: 20px; text-align: center; border-radius: 8px; background-color: #ffffffcc; }
    .gallery { display: flex; gap: 10px; overflow-x: auto; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; margin-bottom: 10px; }
    .gallery img { width: 100%; flex: 0 0 100%; height: auto; border-radius: 6px; scroll-snap-align: center; }
    .product h3 { margin: 10px 0 5px; font-size: 18px; }
    .btn-prenota, .btn-visita, .btn-conferma { display: inline-block; margin: 5px; padding: 8px 15px; background-color: #e91e63; color: #fff; text-decoration: none; border-radius: 6px; transition: background-color 0.3s ease; border: none; cursor: pointer; font-size: 14px; }
    .btn-prenota:hover:not(:disabled), .btn-visita:hover, .btn-conferma:hover { background-color: #d81b60; }
    .btn-prenota:disabled, .btn-conferma:disabled { background-color: #aaa; cursor: not-allowed; }
  </style>
</head>
<body>

<header>THE SIRIA'S SHOW</header>

<div class="filter-bar">
  <label for="categoryFilter">Filtra per categoria: </label>
  <select id="categoryFilter">
    <option value="all">Tutti</option>
    <option value="elettronica">Elettronica</option>
    <option value="abbigliamento">Abbigliamento</option>
    <option value="cura estetica">Cura Estetica</option>
    <option value="accessori">Accessori</option>
    <option value="gioielli">Gioielli</option>
  </select>
</div>

<div class="container">

<?php
$prodotti = [
    [
        "id"=>"soldejan",
        "categoria"=>"cura estetica",
        "nome"=>"Sol de Janeiro - Bum Bum Jet set",
        "prezzo"=>"€31,00",
        "sito"=>"https://www.sephora.it/p/bum-bum-jet-set---mini-set-per-la-cura-dei-capelli-P10014446.html",
        "immagini"=>[
            "https://m.media-amazon.com/images/I/81R15PzWx4L._AC_SL1500_.jpg",
            "https://media.sephora.eu/content/dam/digital/pim/published/S/SOL_DE_JANEIRO/P10014446/57929-media_1.jpg?scaleWidth=undefined&scaleHeight=undefined&scaleMode=undefined",
            "https://media.sephora.eu/content/dam/digital/pim/published/S/SOL_DE_JANEIRO/P10014446/57929-media_2.jpg?scaleWidth=undefined&scaleHeight=undefined&scaleMode=undefined"
        ]
    ],
    [
        "id"=>"gisou",
        "categoria"=>"cura estetica",
        "nome"=>"Gisou - Honey Infused Hair Oil",
        "prezzo"=>"€39,90",
        "sito"=>"https://www.sephora.it/p/honey-infused-hair-oil---olio-per-capelli-multifunzione-P10014606.html",
        "immagini"=>[
            "https://media.sephora.eu/content/dam/digital/pim/published/G/GISOU/549891/236275-media_swatch.jpg",
            "https://media.sephora.eu/content/dam/digital/pim/published/G/GISOU/P10014606/58089-media_4.jpg"
        ]
    ],
    [
        "id"=>"guessborsa",
        "categoria"=>"accessori",
        "nome"=>"Guess - Borsa a mano Georgina",
        "prezzo"=>"€155,00",
        "sito"=>"https://www.guess.eu/it-lu/guess/donna/borse/borse-a-mano/georgina-borsa-a-mano-stampa-pitone-nero/HWKB9499060-BLA.html",
        "immagini"=>[
            "https://img01.ztat.net/article/spp-media-p1/3e71a6e6ea1a44c289944897e5d90114/4c2786a4cd8549c3b99b57ee70cd8330.jpg?imwidth=1800&filter=packshot",
            "https://img01.ztat.net/article/spp-media-p1/3ecdcfc6940d432cbe397b4ec3d558c0/4038f18bf02f4af5bdf114708b886976.jpg?imwidth=1800",
            "https://img01.ztat.net/article/spp-media-p1/9df90462ea154c9781596873674e208c/dd866aa80ef74cbc83b2749ac90b6edd.jpg?imwidth=1800"
        ]
    ]
    // Aggiungi qui tutti gli altri prodotti nello stesso formato
];

foreach($prodotti as $p):
?>
<div class="product" data-category="<?= $p['categoria'] ?>">
    <div class="gallery">
        <?php foreach($p['immagini'] as $img): ?>
            <img src="<?= $img ?>" alt="<?= htmlspecialchars($p['nome']) ?>">
        <?php endforeach; ?>
    </div>
    <h3><?= htmlspecialchars($p['nome']) ?></h3>
    <p class="prezzo"><?= $p['prezzo'] ?></p>
    <button class="btn-visita" data-href="<?= $p['sito'] ?>">VISITA</button>
    <button class="btn-conferma" data-id="<?= $p['id'] ?>">CONFERMA ACQUISTO</button>
</div>
<?php endforeach; ?>

</div>

<script>
(function(){
  function safeOpen(url){
    if(!url) return alert("URL non trovato.");
    const w = window.open(url, "_blank");
    if(!w) window.location.href = url;
  }

  // Bottone VISITA
  document.querySelectorAll(".btn-visita").forEach(btn => {
    const url = btn.dataset.href;
    btn.addEventListener("click", e => {
      e.preventDefault();
      if(!confirm("Alt! Se si visualizza il sito e si compra il prodotto IN QUALSIASI MOMENTO (anche se in autonomia)\nSi prega di tornare sul sito e cliccare 'Conferma acquisto', così da portare traccia degli acquisti.\n\nGrazie della collaborazione.")) return;
      safeOpen(url);
    });
  });

  // Bottone CONFERMA
  document.querySelectorAll(".btn-conferma").forEach(btn => {
    btn.addEventListener("click", e => {
      e.preventDefault();
      if(!confirm("Salve! Ma guarda chi si vede.. la persona che ha speso un sacco di soldi per Siria, ti ringraziamo vivamente! Clicca su “ok” e prosegui solo se hai davvero acquistato il prodotto, mi raccomando. Grazie.")) return;

      const id = btn.dataset.id;
      fetch("conferma.php", {
        method: "POST",
        headers: {"Content-Type":"application/x-www-form-urlencoded"},
        body: "id_regalo=" + encodeURIComponent(id)
      })
      .then(r=>r.json())
      .then(data=>{
        if(data.success){
          btn.textContent = "🎁 Già regalato";
          btn.disabled = true;
        }else{
          alert("Errore: " + data.error);
        }
      });
    });
  });

  // Filtro categorie
  const filter = document.getElementById('categoryFilter');
  filter.addEventListener('change', () => {
    const selected = filter.value.toLowerCase();
    document.querySelectorAll('.product').forEach(product => {
      const cat = (product.getAttribute('data-category') || '').toLowerCase();
      product.style.display = (selected === 'all' || cat === selected) ? 'block' : 'none';
    });
  });

})();
</script>

</body>
</html>


















